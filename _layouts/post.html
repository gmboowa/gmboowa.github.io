---
layout: default
---

{%- assign year = page.date | date: "%Y" -%}
{%- assign tags = page.tags | join: "" -%}
{%- assign categories = page.categories | join: "" -%}

<!-- Debug Outputs -->
<!-- Log site.github metadata -->
<div style="display:none;">
  <h3>Debug Info</h3>
  <p><strong>Site GitHub Metadata:</strong> {{ site.github | inspect }}</p>
  <p><strong>Page Metadata:</strong> {{ page | inspect }}</p>
  <p><strong>Page Tags:</strong> {{ tags | inspect }}</p>
  <p><strong>Page Categories:</strong> {{ categories | inspect }}</p>
</div>

<article>
  <header>
    <h1>{{ page.title }}</h1>
    <p>
      {{ page.date | date: "%B %-d, %Y" }}
      {%- if page.author -%} • {{ page.author }}{%- endif -%}
      {%- if page.meta -%} • {{ page.meta }}{%- endif -%}
    </p>
  </header>

  <footer>
    <p>
      {{ year }}
      {%- if tags != "" -%}
        • Tags:
        {% for tag in page.tags %}
          <a href="/tags/{{ tag }}">{{ tag }}</a>
        {% endfor %}
      {%- endif -%}
      {%- if categories != "" -%}
        • Categories:
        {% for category in page.categories %}
          <a href="/categories/{{ category }}">{{ category }}</a>
        {% endfor %}
      {%- endif -%}
    </p>
  </footer>

  {%- if page.toc and page.toc.beginning -%}
    <nav>
      <h2>Table of Contents</h2>
      {% toc %}
    </nav>
  {%- endif -%}

  <section>
    {{ content }}
  </section>

  {%- if page.related_publications and page.related_publications.size > 0 -%}
    <section>
      <h2>References</h2>
      {% assign publications = page.related_publications | replace: ", ", "," | split: "," | join: "|" %}
      {% bibliography -f site.scholar.bibliography -q @*[key^={{ publications }}]* %}
    </section>
  {%- endif -%}

  {%- if site.related_blog_posts.enabled -%}
    {%- if page.related_posts == null or page.related_posts -%}
      <section>
        {% include related_posts.html %}
      </section>
    {%- endif -%}
  {%- endif -%}

  {%- if site.disqus_shortname and page.disqus_comments -%}
    <section>
      {% include disqus.html %}
    </section>
  {%- endif -%}

  {%- if site.giscus and page.giscus_comments -%}
    <section>
      {% include giscus.html %}
    </section>
  {%- endif -%}
</article>
